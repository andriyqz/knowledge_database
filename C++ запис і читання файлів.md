
У C++ є три класи файлового вводу/виводу:
1. ifstream (для читання)
2. ofstream (для запису)
3. fstream (а-ля комбінація ifstream та ofstream)

Для їх використання потрібно підключити заголовок fstream.

Щоб відкрити файл, потрібно створити об'єкт відповідного класу, передавши ім'я класу як параметр.

```cpp
#include <iostream>

#include <fstream>

#include <cstdlib> // для використання функції exit()

int main()

{

using namespace std;

// Клас ofstream використовується для запису даних в файл.

// Створюємо файл SomeText.txt

ofstream outf("SomeText.txt");

// Якщо ми не можемо відкрити цей файл для запису даних,

if (!outf)
{
	// то виводимо повідомлення про помилку і виконуємо функцію exit()
	
	cerr << "Uh oh, SomeText.txt could not be opened for writing!" << endl;
	
	exit(1);

}

// Записуємо в файл наступні два рядки

outf << "See line #1!" << endl;

outf << "See line #2!" << endl;

return 0;

// Коли outf вийде з області видимості, то деструктор класу ofstream автоматично закриє наш файл

}
```

Для того, щоб прочитати файл треба користуватися об'єктом типу ifstream

ifstream повертає 0, коли ми досягли кінця файлу:

```cpp
#include <iostream>

#include <fstream>

#include <string>

#include <cstdlib> // для використання функції exit()

int main()

{

using namespace std;

// ifstream використовується для читання вмісту файла.

// Спробуємо прочитати вміст файлу SomeText.txt

ifstream inf("SomeText.txt");

// Якщо ми не можемо відкрити цей файл для читання його вмісту,

if (!inf)

{
	// то виводимо наступне повідомлення про помилку і виконуємо функцію exit()
	
	cerr << "Uh oh, SomeText.txt could not be opened for reading!" << endl;
	
	exit(1);

}

// Поки є дані, які ми можемо прочитати,

while (inf)
{

	// то переміщуємо ці дані в рядок, який потім виводимо на екран
	
	string strInput;
	
	inf >> strInput;
	
	cout << strInput << endl;

}

return 0;

// Коли inf вийде з області видимості, то деструктор класу ifstream автоматично закриє наш файл

}
```

Щоб прочитати весь вміст як є, без його ділення на частини (як у вищенаведеному прикладі), нам потрібно використати **метод getline()**

```cpp
#include <iostream>

#include <fstream>

#include <string>

#include <cstdlib> // для використання функції exit()

using namespace std;

int main()
{
	// ifstream використовується для читання вмісту файлів.
	
	// Ми спробуємо прочитати вміст файлу SomeText.txt
	
	ifstream inf("SomeText.txt");
	
	// Якщо ми не можемо відкрити файл для читання його вмісту,
	
	if (!inf)
	{
		// то виводимо наступне повідомлення про помилку і виконуємо функцію exit()
		
		cerr << "Uh oh, SomeText.txt could not be opened for reading!" << endl;
		
		exit(1);
	}
	
	// Поки є, що читати,
	
	while (inf)
	{
		// то переміщуємо те, що можемо прочитати, в рядок, а потім виводимо цей рядок на екран
		string strInput;
		
		getline(inf, strInput);
		
		cout << strInput << endl;
	
	}
	
	return 0;
	
	// Коли inf вийде з області видимості, то деструктор класу ifstream автоматично закриє наш файл
}
```

Хорошим тоном є закриття файлів перед завершенням роботи програми. Іноді буфер не встигає очищатися перед тим, як програма дасть збій.

Режими відкриття файлів (які знаходяться у класі ios):
1. Конструктори файлового потоку приймають необов’язковий другий параметр, який дозволяє вказати програмісту спосіб відкриття файлу.
2. app - відкриває файл в режимі додавання
3. ate - переходить в кінець файлу перед читанням чи записом
4. binary - відкриває файл в бінарному режимі замість текстового
5. in відкриває файл в режимі читання (по дефолту для ifstream)
6. out - відкриває файл в режимі запису (по дефолту для ofstream)
7. trunc - видаляє файл, якщо він вже існує

```cpp
#include <iostream>

#include <cstdlib> // для використання функції exit()

#include <fstream>

int main()
{
	using namespace std;
	
	// Передаємо флаг ios:app, щоб повідомити fstream, що ми збираємося додати свої дані до вже існуючих даних файлу.
	
	// Ми не збираємося перезаписувати файл.
	
	// Нам не потрібно передавати флаг ios::out, оскільки ofstream за замовчуванням працює в режимі ios::out
	
	ofstream outf("SomeText.txt", ios::app);
	
	// Якщо ми не можемо відкрити файл для запису даних,
	
	if (!outf)
	{
		// то виводимо наступне повідомлення про помилку і виконуємо функцію exit()
		
		cerr << "Uh oh, SomeText.txt could not be opened for writing!" << endl;
		
		exit(1);
	
	}
	
	outf << "See line #3!" << endl;
	
	outf << "See line #4!" << endl;
	
	return 0;
	
	// Коли outf вийде з області видимості, то деструктор класу ofstream автоматично закриє наш файл

}
```

Ми також можему явно відкривати файли (outf.open("filename.txt")):
